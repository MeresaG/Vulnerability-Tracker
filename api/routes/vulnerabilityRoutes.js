const express = require('express');
const router = express.Router();

const vulnerabilityController = require('../controller/volunerabilityController');
const commentController = require('../controller/commentController');

router.route('/vulnerabilities')
        .get(vulnerabilityController.getAllVulnerabilities)
        .post(vulnerabilityController.AddOneVulnerability)


router.route('/vulnerabilities/:vulnerabilityId')
        .get(vulnerabilityController.getOneVulnerability)
        .put(vulnerabilityController.fullUpdateVulnerability)
        .patch(vulnerabilityController.partialUpdateVulnerability)
        .delete(vulnerabilityController.deleteOneVulnerability)


router.route('/vulnerabilities/:vulnerabilityId/comments')
        .get(commentController.getAllComments)
        .post(commentController.addOneComment)

router.route('/vulnerabilities/:vulnerabilityId/comments/:commentId')
        .get(commentController.getOneComment)
        .put(commentController.fullUpdateComment)
        .patch(commentController.partialUpdateComment)
        .delete(commentController.deleteOneComment)

module.exports = router;